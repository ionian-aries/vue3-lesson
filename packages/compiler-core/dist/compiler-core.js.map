{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../src/runtimeHelpers.ts", "../src/ast.ts", "../src/parser.ts", "../src/transform.ts", "../src/index.ts"],
  "sourcesContent": ["export function isObject(value) {\n  return typeof value === \"object\" && value !== null;\n}\n\nexport function isFunction(value) {\n  return typeof value == \"function\";\n}\nexport function isString(value) {\n  return typeof value == \"string\";\n}\nexport function isSymbol(value) {\n  return typeof value == \"symbol\";\n}\nexport * from \"./shapeFlags\";\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport const hasOwn = (value, key) => hasOwnProperty.call(value, key);\nexport * from \"./patchFlags\";\n", "export const TO_DISPLAY_STRING = Symbol(`toDisplayString`);\nexport const CREATE_ELEMENT_VNODE = Symbol(\"createElementVNode\");\nexport const CREATE_TEXT = Symbol(`createTextVNode`);\n\nexport const FRAGMENT = Symbol(\"FRAGMENT\");\nexport const CREATE_ELEMENT_BLOCK = Symbol(`createElementBlock`);\nexport const OPEN_BLOCK = Symbol(`openBlock`);\nexport const helperNameMap = {\n  [TO_DISPLAY_STRING]: \"toDisplayString\",\n  [CREATE_TEXT]: `createTextVNode`,\n  [CREATE_ELEMENT_VNODE]: \"createElementVNode\", // \u521B\u5EFA\u5143\u7D20\u8282\u70B9\u6807\u8BC6\n  [FRAGMENT]: \"Fragment\",\n  [OPEN_BLOCK]: `openBlock`, // block\u5904\u7406\n  [CREATE_ELEMENT_BLOCK]: `createElementBlock`,\n};\n", "import { CREATE_ELEMENT_VNODE, CREATE_TEXT } from \"./runtimeHelpers\";\n\nexport enum NodeTypes {\n  ROOT,\n  ELEMENT,\n  TEXT,\n  COMMENT,\n  SIMPLE_EXPRESSION, // {{ name }}\n  INTERPOLATION, // {{}}\n  ATTRIBUTE,\n  DIRECTIVE,\n  // containers\n  COMPOUND_EXPRESSION, // {{ name}} + 'abc'\n  IF,\n  IF_BRANCH,\n  FOR,\n  TEXT_CALL, // createVnode\n  // x\n  VNODE_CALL,\n  JS_CALL_EXPRESSION, // ()\n  JS_OBJECT_EXPRESSION, // props\n  JS_PROPERTY,\n  JS_ARRAY_EXPRESSION,\n  JS_FUNCTION_EXPRESSION,\n  JS_CONDITIONAL_EXPRESSION,\n  JS_CACHE_EXPRESSION,\n\n  // ssr codegen\n  JS_BLOCK_STATEMENT,\n  JS_TEMPLATE_LITERAL,\n  JS_IF_STATEMENT,\n  JS_ASSIGNMENT_EXPRESSION,\n  JS_SEQUENCE_EXPRESSION,\n  JS_RETURN_STATEMENT,\n}\n\nexport function createCallExpression(context, args) {\n  let callee = context.helper(CREATE_TEXT); // \u751F\u6210\u4EE3\u7801\u65F6\u9700\u8981createTextVNode\u65B9\u6CD5\n  return {\n    callee,\n    type: NodeTypes.JS_CALL_EXPRESSION,\n    arguments: args,\n  };\n}\n\nexport function createObjectExpression(properties) {\n  return {\n    type: NodeTypes.JS_OBJECT_EXPRESSION,\n    properties,\n  };\n}\n\nexport function createVNodeCall(context, tag, props, children) {\n  context.helper(CREATE_ELEMENT_VNODE);\n  return {\n    type: NodeTypes.VNODE_CALL,\n    tag,\n    props,\n    children,\n  };\n}\n", "import { NodeTypes } from \"./ast\";\n\nfunction createParserContext(content) {\n  return {\n    originalSource: content,\n    source: content, // \u5B57\u7B26\u4E32\u4F1A\u4E0D\u505C\u7684\u51CF\u5C11\n    line: 1,\n    column: 1,\n    offset: 0,\n  };\n}\n\nfunction isEnd(context) {\n  const c = context.source;\n  if (c.startsWith(\"</\")) {\n    // \u5982\u679C\u662F\u95ED\u5408\u6807\u7B7E\uFF0C\u4E5F\u8981\u505C\u6B62\u5FAA\u73AF\n    return true;\n  }\n  return !c;\n}\n\nfunction advancePositionMutation(context, c, endIndex) {\n  let linesCount = 0; // \u7B2C\u51E0\u884C\n  let linePos = -1; // \u6362\u884C\u7684\u4F4D\u7F6E\u4FE1\u606F\n\n  for (let i = 0; i < endIndex; i++) {\n    if (c.charCodeAt(i) == 10) {\n      linesCount++;\n      linePos = i;\n    }\n  }\n  context.offset += endIndex;\n  context.line += linesCount;\n  context.column =\n    linePos == -1 ? context.column + endIndex : endIndex - linePos;\n}\n\nfunction advanceBy(context, endIndex) {\n  let c = context.source;\n  // \u9700\u8981\u5728\u8FD9\u91CC\u66F4\u65B0\u4F4D\u7F6E\u4FE1\u606F\n  advancePositionMutation(context, c, endIndex);\n  context.source = c.slice(endIndex);\n}\nfunction parseTextData(context, endIndex) {\n  const content = context.source.slice(0, endIndex);\n  advanceBy(context, endIndex);\n  return content;\n}\n\nfunction getCursor(context) {\n  let { line, column, offset } = context;\n  return { line, column, offset };\n}\nfunction parseText(context) {\n  //\n  let tokens = [\"<\", \"{{\"]; // \u627E\u5F53\u524D\u79BB\u7740\u6700\u8FD1\u7684\u8BCD\u6CD5\n  let endIndex = context.source.length; // \u5148\u5047\u8BBE\u627E\u4E0D\u5230\n  for (let i = 0; i < tokens.length; i++) {\n    const index = context.source.indexOf(tokens[i], 1);\n    if (index !== -1 && endIndex > index) {\n      endIndex = index;\n    }\n  }\n  let start = getCursor(context);\n  let content = parseTextData(context, endIndex); // \u8FD9\u91CC\u5E94\u8BE5\u66F4\u65B0\u4F4D\u7F6E\n  // 0 - endIndex \u4E3A\u6587\u5B57\u5185\u5BB9   {{  name }}\n  return {\n    type: NodeTypes.TEXT,\n    content,\n    loc: getSelection(context, start),\n  };\n}\nfunction getSelection(context, start, e?) {\n  let end = e || getCursor(context);\n  // eslint \u53EF\u4EE5\u6839\u636E start\uFF0Cend\u627E\u5230\u8981\u62A5\u9519\u7684\u4F4D\u7F6E\n  return {\n    start,\n    end,\n    source: context.originalSource.slice(start.offset, end.offset),\n  };\n}\nfunction parseInterpolation(context) {\n  const start = getCursor(context);\n  const closeIndex = context.source.indexOf(\"}}\", 2);\n  advanceBy(context, 2); // \u53BB\u6389\u5F00\u5934 {{\n  const innerStart = getCursor(context);\n  const innerEnd = getCursor(context);\n  const preTrimContent = parseTextData(context, closeIndex - 2);\n  const content = preTrimContent.trim(); // \u8868\u8FBE\u5F0F\u4E2D\u7684\u53D8\u91CF\n  // \u83B7\u53D6  {{   name   }}\u53BB\u7A7A\u683C\n  const startOffset = preTrimContent.indexOf(content);\n  if (startOffset > 0) {\n    advancePositionMutation(innerStart, preTrimContent, startOffset);\n  }\n  const endOffset = startOffset + content.length;\n  advancePositionMutation(innerEnd, preTrimContent, endOffset);\n  advanceBy(context, 2);\n  //    name   }}\n  return {\n    type: NodeTypes.INTERPOLATION,\n    content: {\n      type: NodeTypes.SIMPLE_EXPRESSION,\n      isStatic: false,\n      isConstant: false,\n      content,\n      loc: getSelection(context, innerStart, innerEnd),\n    },\n    loc: getSelection(context, start),\n  };\n}\nfunction advanceSpaces(context) {\n  const match = /^[ \\t\\r\\n]+/.exec(context.source);\n\n  if (match) {\n    // \u5220\u9664\u7A7A\u683C\n    advanceBy(context, match[0].length);\n  }\n}\nfunction parseAttributeValue(context) {\n  let quote = context.source[0];\n\n  const isQuoted = quote === '\"' || quote === \"'\";\n\n  let content;\n  if (isQuoted) {\n    advanceBy(context, 1);\n    const endIndex = context.source.indexOf(quote, 1);\n    content = parseTextData(context, endIndex); // slice()\n    advanceBy(context, 1);\n  } else {\n    content = context.source.match(/([^ \\t\\r\\n/>])+/)[1]; // \u53D6\u51FA\u5185\u5BB9\uFF0C\u5220\u9664\u7A7A\u683C\n    advanceBy(context, content.length);\n    advanceSpaces(context);\n  }\n  return content;\n}\nfunction parseAttribute(context) {\n  const start = getCursor(context);\n  // a   = '1'\n  let match = /^[^\\t\\r\\n\\f />][^\\t\\r\\n\\f />=]*/.exec(context.source);\n  const name = match[0];\n  let value;\n  advanceBy(context, name.length);\n  if (/^[\\t\\r\\n\\f ]*=/.test(context.source)) {\n    advanceSpaces(context); //\n    advanceBy(context, 1);\n    advanceSpaces(context);\n    value = parseAttributeValue(context);\n  }\n  let loc = getSelection(context, start);\n  return {\n    type: NodeTypes.ATTRIBUTE,\n    name,\n    value: {\n      type: NodeTypes.TEXT,\n      content: value,\n      loc: loc,\n    },\n    loc: getSelection(context, start),\n  };\n}\nfunction parseAtrributes(context) {\n  const props = [];\n\n  while (context.source.length > 0 && !context.source.startsWith(\">\")) {\n    props.push(parseAttribute(context));\n    advanceSpaces(context);\n  }\n  return props;\n}\nfunction parseTag(context) {\n  const start = getCursor(context);\n  const match = /^<\\/?([a-z][^ \\t\\r\\n/>]*)/.exec(context.source);\n  const tag = match[1]; // <div   />\n\n  advanceBy(context, match[0].length); // \u5220\u9664\u5339\u914D\u5230\u7684\u5185\u5BB9\n\n  advanceSpaces(context); // \u7A7A\u683C\u79FB\u9664\n\n  // <div a=\"1\" B='1' >\n\n  let props = parseAtrributes(context);\n  const isSelfClosing = context.source.startsWith(\"/>\");\n  advanceBy(context, isSelfClosing ? 2 : 1);\n  return {\n    type: NodeTypes.ELEMENT,\n    tag,\n    isSelfClosing,\n    loc: getSelection(context, start), // \u5F00\u5934\u6807\u7B7E\u89E3\u6790\u540E\u7684\u4FE1\u606F\n    props,\n  };\n}\nfunction parseElement(context) {\n  // <div >\n  const ele = parseTag(context);\n\n  const children = parseChilren(context); // \u9012\u5F52\u89E3\u6790\u513F\u5B50\u8282\u70B9,\u4F46\u662F\u89E3\u6790\u7684\u65F6\u5019\u5982\u679C\u662F\u7ED3\u5C3E\u6807\u7B7E\u9700\u8981\u8DF3\u8FC7\n\n  if (context.source.startsWith(\"</\")) {\n    parseTag(context); //  \u95ED\u5408\u6807\u7B7E\u6CA1\u6709\u610F\u4E49\u76F4\u63A5\u79FB\u9664\u5373\u53EF\n  }\n  (ele as any).children = children;\n  (ele as any).loc = getSelection(context, ele.loc.start);\n  return ele;\n}\nfunction parseChilren(context) {\n  const nodes = [] as any;\n  while (!isEnd(context)) {\n    const c = context.source; // \u73B0\u5728\u89E3\u6790\u7684\u5185\u5BB9\n    let node;\n    if (c.startsWith(\"{{\")) {\n      // {{}}\n      node = parseInterpolation(context);\n    } else if (c[0] === \"<\") {\n      // <div>\n      node = parseElement(context);\n    } else {\n      // \u6587\u672C  // abc  {{}} <div></div>\n      node = parseText(context);\n    }\n    // \u72B6\u6001\u673A\n    nodes.push(node);\n  }\n  // \u72B6\u6001\u673A\n  for (let i = 0; i < nodes.length; i++) {\n    let node = nodes[i];\n    // \u5C06\u7A7A\u8282\u70B9\u8FDB\u884C\u538B\u7F29\n    if (node.type === NodeTypes.TEXT) {\n      // \u5982\u679C\u662F\u7A7A\u767D\u5B57\u7B26 \u6E05\u7A7A\n      if (!/[^\\t\\r\\n\\f ]/.test(node.content)) {\n        nodes[i] = null; // \u7A7A\u767D\u5B57\u7B26\u6E05\u7A7A\n      } else {\n        node.content = node.content.replace(/[\\t\\r\\n\\f ]+/g, \" \");\n      }\n    }\n  }\n  return nodes.filter(Boolean);\n}\nfunction createRoot(children) {\n  return {\n    type: NodeTypes.ROOT,\n    children,\n  };\n}\nfunction parse(template) {\n  // \u6839\u636Etemplate \u4EA7\u751F\u4E00\u68F5\u6811  line column offset\n  const context = createParserContext(template);\n\n  return createRoot(parseChilren(context));\n}\nexport { parse };\n", "import {\n  CREATE_ELEMENT_BLOCK,\n  CREATE_ELEMENT_VNODE,\n  FRAGMENT,\n  OPEN_BLOCK,\n  TO_DISPLAY_STRING,\n} from \"./runtimeHelpers\";\n\nimport { PatchFlags } from \"@vue/shared\";\nimport {\n  NodeTypes,\n  createCallExpression,\n  createObjectExpression,\n  createVNodeCall,\n} from \"./ast\";\nfunction transformElement(node, context) {\n  if (node.type === NodeTypes.ELEMENT) {\n    return function postTransformElement() {\n      // \u5143\u7D20\u5904\u7406\u7684\u9000\u51FA\u51FD\u6570\n      // \u5982\u679C\u8FD9\u4E2A\u5143\u7D20\n      let vnodeTag = `'${node.tag}'`;\n      let properties = [];\n      let props = node.props;\n      for (let i = 0; i < props.length; i++) {\n        // \u8FD9\u91CC\u5C5E\u6027\u5176\u5B9E\u5E94\u8BE5\u5728codegen\u91CC\u5728\u5904\u7406\n        properties.push({\n          key: props[i].name,\n          value: props[i].value.content,\n        });\n      }\n      const propsExpression =\n        props.length > 0 ? createObjectExpression(properties) : null;\n\n      let vnodeChildren = null;\n      if (node.children.length === 1) {\n        // \u53EA\u6709\u4E00\u4E2A\u5B69\u5B50\u8282\u70B9 \uFF0C\u90A3\u4E48\u5F53\u751F\u6210 render \u51FD\u6570\u7684\u65F6\u5019\u5C31\u4E0D\u7528 [] \u5305\u88F9\n        const child = node.children[0];\n        vnodeChildren = child;\n      } else {\n        if (node.children.length > 0) {\n          // \u5904\u7406\u513F\u5B50\u8282\u70B9\n          vnodeChildren = node.children;\n        }\n      }\n      node.codegenNode = createVNodeCall(\n        context,\n        vnodeTag,\n        propsExpression,\n        vnodeChildren\n      );\n    };\n  }\n}\nfunction isText(node) {\n  return node.type == NodeTypes.INTERPOLATION || node.type == NodeTypes.TEXT;\n}\nfunction transformText(node, context) {\n  if (node.type === NodeTypes.ELEMENT || node.type === NodeTypes.ROOT) {\n    return () => {\n      let hasText = false;\n      const children = node.children;\n      let currentContainer = undefined; // \u5408\u5E76\u513F\u5B50\n\n      for (let i = 0; i < children.length; i++) {\n        let child = children[i];\n        if (isText(child)) {\n          hasText = true;\n          for (let j = i + 1; j < children.length; j++) {\n            const next = children[j];\n            if (isText(next)) {\n              if (!currentContainer) {\n                currentContainer = children[i] = {\n                  // \u5408\u5E76\u8868\u8FBE\u5F0F\n                  type: NodeTypes.COMPOUND_EXPRESSION,\n                  loc: child.loc,\n                  children: [child],\n                };\n              }\n              currentContainer.children.push(` + `, next);\n              children.splice(j, 1);\n              j--;\n            } else {\n              currentContainer = undefined;\n              break;\n            }\n          }\n        }\n      }\n\n      if (!hasText || children.length == 1) {\n        // \u4E00\u4E2A\u5143\u7D20\u4E0D\u7528\u7BA1\uFF0C\u53EF\u4EE5\u6267\u884CinnerHTML\n        return;\n      }\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (isText(child) || child.type === NodeTypes.COMPOUND_EXPRESSION) {\n          const callArgs = [];\n          callArgs.push(child);\n          if (child.type !== NodeTypes.TEXT) {\n            // \u5982\u679C\u4E0D\u662F\u6587\u672C\n            callArgs.push(PatchFlags.TEXT + \"\");\n          }\n          // \u5168\u90E8\u683C\u5F0F\u8BDD\u6210\u6587\u672C\u8C03\u7528\n          children[i] = {\n            type: NodeTypes.TEXT_CALL, // \u6700\u7EC8\u9700\u8981\u53D8\u6210createTextVnode() \u589E\u52A0patchFlag\n            content: child,\n            loc: child.loc,\n            codegenNode: createCallExpression(context, callArgs), // \u521B\u5EFA\u8868\u8FBE\u5F0F\u8C03\u7528\n          };\n        }\n      }\n    };\n  }\n}\nfunction transformExpression(node) {\n  if (node.type == NodeTypes.INTERPOLATION) {\n    node.content.content = `_ctx.${node.content.content}`; // \u4FEE\u6539content\u4FE1\u606F\n  }\n}\nfunction createTransformContext(root) {\n  const context = {\n    currentNode: root, // \u5F53\u524D\u8F6C\u5316\u8282\u70B9\n    parent: null, // \u5F53\u524D\u8F6C\u5316\u8282\u70B9\u7684\u7236\u8282\u70B9\n    nodeTransforms: [\n      // \u8F6C\u5316\u65B9\u6CD5\n      transformElement,\n      transformText,\n      transformExpression,\n    ],\n    helpers: new Map(), // \u521B\u5EFA\u5E2E\u52A9\u6620\u5C04\u8868\uFF0C\u8BB0\u5F55\u8C03\u7528\u65B9\u6CD5\u6B21\u6570\n    helper(name) {\n      const count = context.helpers.get(name) || 0;\n      context.helpers.set(name, count + 1);\n      return name;\n    },\n    removeHelper(name) {\n      const count = context.helpers.get(name);\n      if (count) {\n        const currentCount = count - 1;\n        if (!currentCount) {\n          context.helpers.delete(name);\n        } else {\n          context.helpers.set(name, currentCount);\n        }\n      }\n    },\n  };\n  return context;\n}\nfunction traverseNode(node, context) {\n  context.currentNode = node;\n\n  const exitsFns = [];\n  const transforms = context.nodeTransforms;\n  for (let i = 0; i < transforms.length; i++) {\n    let onExit = transforms[i](node, context); // \u8C03\u7528\u8F6C\u5316\u65B9\u6CD5\u8FDB\u884C\u8F6C\u5316\n    if (onExit) {\n      exitsFns.push(onExit);\n    }\n  }\n  switch (node.type) {\n    case NodeTypes.INTERPOLATION:\n      context.helper(TO_DISPLAY_STRING); // \u7528\u4E8EJSON.stringify\n      break;\n    case NodeTypes.ELEMENT:\n    case NodeTypes.ROOT:\n      for (let i = 0; i < node.children.length; i++) {\n        context.parent = node;\n        traverseNode(node.children[i], context);\n      }\n  }\n\n  context.currentNode = node; // \u4FEE\u6B63currentNode;\n  let i = exitsFns.length;\n  while (i--) {\n    exitsFns[i]();\n  }\n}\n\nfunction createRootCodegen(root, context) {\n  let { children } = root;\n  if (children.length == 1) {\n    const child = children[0];\n    if (child.type === NodeTypes.ELEMENT && child.codegenNode) {\n      const codegenNode = child.codegenNode;\n      root.codegenNode = codegenNode;\n      context.removeHelper(CREATE_ELEMENT_VNODE); // \u4E0D\u8981\u521B\u5EFA\u5143\u7D20\n      context.helper(OPEN_BLOCK);\n      context.helper(CREATE_ELEMENT_BLOCK); // \u521B\u5EFA\u5143\u7D20block\u5C31\u597D\u4E86\n      root.codegenNode.isBlock = true; // \u53EA\u6709\u4E00\u4E2A\u5143\u7D20\u8282\u70B9\uFF0C\u90A3\u4E48\u4ED6\u5C31\u662Fblock\u8282\u70B9\n    } else {\n      root.codegenNode = child; // \u76F4\u63A5\u7528\u91CC\u9762\u7684\u8282\u70B9\u6362\u6389\n    }\n  } else {\n    root.codegenNode = createVNodeCall(\n      context,\n      context.helper(FRAGMENT),\n      undefined,\n      root.children\n    );\n    context.helper(OPEN_BLOCK);\n    context.helper(CREATE_ELEMENT_BLOCK);\n    root.codegenNode.isBlock = true; // \u589E\u52A0block fragment\n  }\n}\n\nfunction transform(root) {\n  let context = createTransformContext(root);\n\n  traverseNode(root, context);\n\n  createRootCodegen(root, context);\n\n  root.helpers = [...context.helpers.keys()];\n}\n\nexport default transform;\n", "// \u7F16\u8BD1\u4E3B\u8981\u5206\u4E3A\u4E09\u6B65 1. \u9700\u8981\u5C06\u6A21\u677F\u8F6C\u5316\u6210ast\u8BED\u6CD5\u6811   2.\u8F6C\u5316\u751F\u6210codegennode 3.\u8F6C\u5316\u6210render\u51FD\u6570\n// \u5C06\u6A21\u677F\u8F6C\u6362\u6210ast\u8BED\u6CD5\u6811\n//\n\nimport { isString, isSymbol } from \"@vue/shared\";\nimport { NodeTypes } from \"./ast\";\nimport { parse } from \"./parser\";\nimport {\n  CREATE_ELEMENT_BLOCK,\n  CREATE_ELEMENT_VNODE,\n  OPEN_BLOCK,\n  TO_DISPLAY_STRING,\n  helperNameMap,\n} from \"./runtimeHelpers\";\nimport transform from \"./transform\";\n\nfunction createCodegeContext() {\n  const context = {\n    code: ``,\n    indentLevel: 0,\n    helper(key) {\n      return `_${helperNameMap[key]}`;\n    },\n    push(code) {\n      context.code += code;\n    },\n    indent() {\n      // \u524D\u8FDB\n      newline(++context.indentLevel);\n    },\n    deindent(withoutnewline = false) {\n      // \u7F29\u8FDB\n      if (withoutnewline) {\n        --context.indentLevel;\n      } else {\n        newline(--context.indentLevel);\n      }\n    },\n    newline() {\n      newline(context.indentLevel);\n    }, // \u6362\u884C\n  };\n  function newline(n) {\n    context.push(\"\\n\" + `  `.repeat(n));\n  }\n  return context;\n}\n\nfunction genFunctionPreamble(ast, context) {\n  // \u751F\u6210\u51FD\u6570\n  const { push, newline } = context;\n  if (ast.helpers.length > 0) {\n    // \u751F\u6210\u5BFC\u5165\u8BED\u53E5\n    push(\n      `const {${ast.helpers\n        .map((s) => `${helperNameMap[s]}:_${helperNameMap[s]}`)\n        .join(\", \")}} = Vue`\n    );\n  }\n  newline();\n  push(`return `);\n}\nfunction genText(node, context) {\n  context.push(JSON.stringify(node.content)); // \u6DFB\u52A0\u6587\u672C\u4EE3\u7801\n}\nfunction genInterpolation(node, context) {\n  const { push, helper } = context;\n  push(`${helper(TO_DISPLAY_STRING)}(`);\n  genNode(node.content, context);\n  push(`)`);\n}\nfunction genNodeList(nodes, context) {\n  // \u751F\u6210\u8282\u70B9\u5217\u8868\uFF0C\u7528\",\"\u5206\u5272\n  const { push } = context;\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    if (isString(node)) {\n      push(`${node}`); // \u5982\u679C\u662F\u5B57\u7B26\u4E32\u76F4\u63A5\u653E\u5165\n    } else if (Array.isArray(node)) {\n      genNodeList(node, context);\n    } else {\n      genNode(node, context);\n    }\n    if (i < nodes.length - 1) {\n      push(\", \");\n    }\n  }\n}\nfunction genVNodeCall(node, context) {\n  const { push, helper } = context;\n  const { tag, props, children, isBlock } = node;\n  if (isBlock) {\n    push(`(${helper(OPEN_BLOCK)}(),`);\n  }\n  // \u751F\u6210createElementBlock\u6216\u8005createElementVnode\n  const callHelper = isBlock ? CREATE_ELEMENT_BLOCK : CREATE_ELEMENT_VNODE;\n  push(helper(callHelper));\n  push(\"(\");\n  genNodeList(\n    [tag, props, children].map((item) => item || \"null\"),\n    context\n  );\n  push(`)`);\n  if (isBlock) {\n    push(`)`);\n  }\n}\nfunction genExpression(node, context) {\n  const { content } = node;\n  context.push(content);\n}\nfunction genObjectExpression(node, context) {\n  const { push, newline } = context;\n  const { properties } = node;\n  if (!properties.length) {\n    push(`{}`);\n    return;\n  }\n  push(\"{\");\n  for (let i = 0; i < properties.length; i++) {\n    const { key, value } = properties[i];\n    // key\n    push(key);\n    push(`: `);\n    push(JSON.stringify(value));\n    // value\n    if (i < properties.length - 1) {\n      push(`,`);\n    }\n  }\n  push(\"}\");\n}\nfunction genCompoundExpression(node, context) {\n  for (let i = 0; i < node.children!.length; i++) {\n    const child = node.children![i];\n    if (isString(child)) {\n      context.push(child);\n    } else {\n      genNode(child, context);\n    }\n  }\n}\nfunction genCallExpression(node, context) {\n  const { push, helper } = context;\n  const callee = helper(node.callee);\n\n  push(callee + `(`, node);\n  genNodeList(node.arguments, context);\n  push(`)`);\n}\nfunction genNode(node, context) {\n  if (isSymbol(node)) {\n    context.push(context.helper(node));\n    return;\n  }\n  switch (node.type) {\n    case NodeTypes.JS_OBJECT_EXPRESSION: // \u5143\u7D20\u5C5E\u6027\n      genObjectExpression(node, context);\n      break;\n    case NodeTypes.VNODE_CALL: // \u5143\u7D20\u8C03\u7528\n      genVNodeCall(node, context);\n      break;\n    case NodeTypes.TEXT:\n      genText(node, context);\n      break;\n    case NodeTypes.INTERPOLATION: // \u751F\u6210\u8868\u8FBE\u5F0F\n      genInterpolation(node, context);\n      break;\n    case NodeTypes.SIMPLE_EXPRESSION: // \u7B80\u5355\u8868\u8FBE\u5F0F\u7684\u5904\u7406\n      genExpression(node, context);\n      break;\n    case NodeTypes.ELEMENT:\n      genNode(node.codegenNode, context);\n      break;\n    case NodeTypes.COMPOUND_EXPRESSION:\n      genCompoundExpression(node, context);\n      break;\n    case NodeTypes.JS_CALL_EXPRESSION: // \u8868\u8FBE\u5F0F\u5904\u7406\n      genCallExpression(node, context);\n      break;\n    case NodeTypes.TEXT_CALL:\n      genNode(node.codegenNode, context);\n      break;\n  }\n}\nfunction generate(ast) {\n  const context = createCodegeContext();\n\n  const { push, indent, deindent } = context;\n  genFunctionPreamble(ast, context);\n  const functionName = \"render\";\n  const args = [\"_ctx\", \"$props\"];\n  push(`function ${functionName}(${args.join(\", \")}){`);\n  indent();\n  push(`return `);\n  if (ast.codegenNode) {\n    genNode(ast.codegenNode, context);\n  } else {\n    push(`null`);\n  }\n  deindent();\n  push(`}`);\n  return context.code;\n}\n\nfunction compile(template) {\n  // 1.\u5C06\u6A21\u677F\u8F6C\u5316\u6210ast\u8BED\u6CD5\u6811\n  const ast = parse(template);\n  // 2.\u5BF9ast\u8BED\u6CD5\u6811\u8FDB\u884C\u8F6C\u5316\n  transform(ast);\n  // 3.\u751F\u6210\u4EE3\u7801\n\n  return generate(ast);\n}\n\nexport { parse, compile };\n"],
  "mappings": "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",
  "names": ["i"]
}
